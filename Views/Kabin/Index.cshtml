@{
    ViewData["Title"] = "Lokasyon Seçimi";
}

<style>
    .search-container {
        max-width: 800px;
        margin: 2rem auto;
    }

    .location-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        max-width: 1000px;
        margin: 2rem auto;
    }

    .location-card {
        display: block;
        padding: 25px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        text-align: center;
        text-decoration: none;
        color: #333;
        background-color: #fff;
        transition: all 0.2s ease;
    }

        .location-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-color: #0d6efd;
        }

        .location-card i {
            font-size: 2.5rem;
            color: #0d6efd;
            margin-bottom: 10px;
        }

        .location-card span {
            font-size: 1.1rem;
            font-weight: 500;
        }
</style>

<div class="text-center">
    <h2 class="display-6">Cihaz Bul & Konum Görselleştir</h2>
    <p class="lead text-muted">Bir lokasyon seçin veya Host DNS/Servis Etiketi ile doğrudan bir cihaz arayın.</p>
</div>

<div class="search-container">
    <div class="input-group">
        <input type="text" class="form-control form-control-lg" placeholder="Örn: bskesx12.belbim.local veya CZ220205FB" id="searchInput">
        <button class="btn btn-primary" type="button" id="searchButton">Bul ve Konumla</button>
    </div>
</div>

<hr>

<div id="location-grid" class="location-grid"></div>

@section Scripts {
    <script>
        $(document).ready(function() {
            $.getJSON('/api/kabin/locations', function(data) {
                const grid = $('#location-grid');
                grid.empty();
                if (data && data.length > 0) {
                     data.forEach(function(location) {
                        const card = `<a href="/Kabin/RackView?location=${location}" class="location-card"><i class="fas fa-map-marker-alt"></i><br><span>${location}</span></a>`;
                        grid.append(card);
                    });
                } else {
                    grid.html('<p class="text-muted text-center">Kayıtlı lokasyon bulunamadı.</p>');
                }
            });
        });
    </script>
}